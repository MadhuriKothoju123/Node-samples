<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Login</title>
    <!-- <link rel="stylesheet" href="/style.css" /> -->
    <script src="https://cdn.jsdelivr.net/npm/axios/dist/axios.min.js"></script>
    <link
      href="https://cdnjs.cloudflare.com/ajax/libs/materialize/1.0.0/css/materialize.min.css"
      rel="stylesheet"
    />
    <script src="https://cdnjs.cloudflare.com/ajax/libs/materialize/1.0.0/js/materialize.min.js"></script>
    <link rel="stylesheet" href="/static/css/alert.css" />

    <link
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/npm/alertifyjs/build/css/alertify.min.css"
    />
    <script src="https://cdn.jsdelivr.net/npm/alertifyjs/build/alertify.min.js"></script>
  </head>
  <body>
    <script src="/static/js/alerts.js"></script>

    <% if (errorMessage && errorMessage.length > 0) { %>
    <script defer>
      // Use the showAlert function to display the error message
      showAlert("error", "<%= errorMessage %>");
    </script>
    <% } %> <% if (successMessage && successMessage.length > 0) { %>
    <script defer>
      // Use the showAlert function to display the success message
      showAlert("success", "<%= successMessage %>");
    </script>
    <% } %>

    <h1>Login</h1>
    <form action="/api/auth/login" method="POST" id="loginForm">
      <input type="text" id="email" name="email" placeholder="email" required />
      <input
        type="password"
        id="password"
        name="password"
        placeholder="Password"
        required
      />
      <button type="submit">Login</button>
    </form>
    <a href="/api/auth/register">Don't have an account? Register here.</a>
  </body>
  <script>
    // document.addEventListener("DOMContentLoaded", async function () {
    //   isUserLogined();
    // });

    // const isUserLogined = async () => {
    //   const user = "<%= user?.username %>";
    //   console.log(user, "username");
    //   if (user) {
    //     window.location.href = "/api/library/getAllBooksPage";
    //   }
    // };
  </script>
</html>
